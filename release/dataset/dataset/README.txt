Introduction
------------

This directory contains the wireless connectivity traces gathered using SCALE, a
wireless mesuring tool for wireless network measurements.  SCALE runs using EmStar, and
the main deamon is called conntestd).

You could configure SCALE to run with many configurable paramenters.  The follwing is a
brief explanation on what are the configuration parameters, which are important to
understand the data format and semantic meaning of several of the data traces in this
directory.

Configuration parameters
------------------------

The daemon allows you to configure multiple parameters.  These are:

$>./link/conntestd -h
Sun May  4 19:56:33.548: link/conntestd: starting SIMULATED node id 1
conntest release: None

usage: conntestd [-h] [-i <link index>] [-s <packet size>] 
                 [-n <number of packets>] [-p <period time>] 
                 [-w <power setting>] [-l <last sender>] 
                 [-f <data file>] [-c <comment>]

-h: help.  Prints this screen

-i: integer link index for underlying network interface to use
    e.g., '0' uses /dev/link/0/data
    default index is first-available

-s: packet size used for the connectivity test
    e.g., '100' sends 100 bytes data packets
    default packet size is: 50 bytes

-n: total number of packets sent in each trial
    e.g., '200' sends 200 packets to all neighbors
    default number of packets is: 100

-p: probing period time in miliseconds
    e.g., '5000' sends packets every 5000 msec or 5 sec
    default period time is: 1000 msec

-w: radio power settings [0 - 100]
    e.g., '50' sets the power radio level to 50
    default power level is: 70

-l: last node in the test
    e.g. '55' indicates node 55 is the last sender and the test will
    stop (shutdown) after 55 finishes probing

-f: data file name where we save the results
    e.g., /home/user/data.txt saves all the result there
    default data file is: datafile.txt

-c: comment added in the data file header.  Commonly used to name an
    instance of an experiment
    e.g., outdoors-JR-sector4 prints this info in the header of the
    data file
    default comment is: connectivity-test


File Output Format
------------------

The output format saved to the configuration file looks like:

************************************************************
EXPERIMENT:  -c flag value or default
DATE:  date and time 
PARAMETERS:
  total number of packets: -t flag value or default
  packet size: -s flag value or default
  period time: -p flag value or default
  power setting: -w flag value or default 
************************************************************

NODE i (xi yi zi):
------------------
[j] 'total pkts recv from j' 'conn from j' 'last seqno heard from j' 
[k] 'total pkts recv from k' 'conn from k' 'last seqno heard from k'
 
NODE j (xj yj zj):
------------------
[i] 'total pkts recv from i' 'conn from i' 'last seqno heard from i'
[k] 'total pkts recv from k' 'conn from k' 'last seqno heard from k'
...

Nomenclature:
i, j, k: node ids 
x, y, z: node x, y, and z position coordinates (CAVEAT: NOT USED, see below)

For example, the datafile for one simple experiment involving 3 nodes
is:

$> more datafile.txt

************************************************************
EXPERIMENT:  bhcy-11_27-1ft
DATE:  Thu Nov 27 20:15:49 2003
PARAMETERS:
  total number of packets: 200
  packet size: 200 bytes
  period time: 500 miliseconds
  power setting: 3 units
************************************************************

NODE 1 (18.294018 7.613554 -1.000000):
-------------------------------------
[2] 10 100.00 10
[3] 6 60.00 10

NODE 2 (16.659876 15.297119 -1.000000):
-------------------------------------
[1] 10 100.00 10
[3] 4 40.00 8

NODE 3 (9.180824 5.413089 -1.000000):
-------------------------------------
[1] 6 60.00 10
[2] 3 30.00 9

This format is easy enough to do post-processing if you want to do some
form of statistical analysis on the data.


Data traces
-----------

All the data traces are divided in different directories according to location and date
they were taken.  Each subdirectory will have groups of 2 files.  

The first one is the datafile with the trace itself, usually named datafile-blah*.txt.
This is the data file generated by SCALE (where blah* is some descriptive name for the
experiment).  Each datafile may have multiple experiments performed in the same day (or
sequence of days).  Each experiment will start with a label explaining the experimental
parameters used.  The format and explanation of the parameters was covered above.
Please note the node location in this file is BOGUS!  DO NOT use this x,y,z coordinates,
instead use the following file.

The second file is the location file, usually named *location-blah*.txt.  This is the
location file for the coordinates of all nodes used in the experiments.  All the values
are in meters.  Using this file, you could easily create a distance matrix for all the
nodes in the experiment.

Using the total number of packets sent, and the total number of packet received by each
node, you could easily calculate the reception rate of the wireless links tested under
different conditions.


Time data traces
----------------

While most of the data traces follow this convention, there is an exception for the
files located in the data/wireless-connectivity/indoor-ceiling-array/time/ directory.
The traces located in this directory represent very long wireless traces, from 2 hrs to
96 hrs under different conditions.  I split the traces depending how many senders were
in any single experiment, if there were multiple or a single transmitter.

The locations of all the nodes in the indoor ceiling array can be found in the same
time/ directory under the name locations-lab.txt.  The locations are the same for all
the experiments in the time directory.

For the single sender, you will find many subdirectories of the format:
node-id-time-blah/  This format tells you the id of the sender node.  Inside each
directory you will find a group of conn-id files, being the id in this case the node id
of the receiver.  The content of this file consists of the sequence numbers of all the
packets received from the sender node by the receiver node.  In each of these
subdirectories, you will find a datafile.txt file that explains the parameters used in
the experiment.

For the multiple senders, you will find two subdirectories: one for random order and the
other one for sequential order.  In the muliple senders case, nodes alternate sending 1
pkt at a time, without interfering with each other.  Inside each directory you will find
a group of conn-id files, similars to the files described above, being the id in this
case the node id of the receiver.  Please note that in these experiments, all nodes are
transmitters and receivers, since they alternate roles constantly.  The content of this
file consists of the id of the sender from where the packet is received in the first
column, and the sequence numbers of all the packets received from this specific sender
in the second column.  In each of these subdirectories, you will find a datafile.txt
file that explains the parameters used in the experiment as well.

If you have further questions, or something is not clear, please contact me.

-Al
